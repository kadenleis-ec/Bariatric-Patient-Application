<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weight Tracker</title>

    <link rel="stylesheet" href="./CSS/weight_tracker.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
    <div id="header">
        <div class="logo">
            <img src="./Images/Mayo_logo.png" alt="Mayo_Logo">
            <p>save enough space for navigation bar: width: 1000px;height: 70px;</p>
        </div>
    </div>

    <div id="container">

        <h2>Weight Tracker</h2>

        <div class="input">
            <label for="date">Date:</label>
            <input type="date" id="date">
        </div>

        <div class="input">
            <label for="Weight">Weight (kg):</label>
            <input type="number" id="weight">
        </div>

        <button onclick="addData()" class="adddata_btn">Add Data</button>

        <canvas id="weightChart"></canvas>



        <script class="line_chart">
            const ctx = document.getElementById('weightChart').getContext('2d');
            const data = {
                labels: [],
                datasets: [{
                label: 'weight track',
                data: [],
                backgroundColor: 'lightblue',
                fill: false,
                tension: 0.2
            }]
            };
            
        
            const config = {
              type: 'line',
              data: data,
              options: {
                responsive: true,
                plugins: {
                    legend: {
                    display: false
                }
                },
                scales: {
                  x: {
                    title: {
                      display: true,
                      text: 'Data'
                    }
                  },
                  y: {
                    title: {
                      display: true,
                      text: 'Weight(kg)'
                    },
                    suggestedMin: 30,
                    suggestedMax: 150
                  }
                }
              }
            };
        
            const weightChart = new Chart(ctx, config);
        
            function addData() {
              const date = document.getElementById('date').value;
              const weight = parseFloat(document.getElementById('weight').value);
              
              if (!date || isNaN(weight)) {
                alert('Please enter a valid date and weight.');
                return;
              }
        
              const index = data.labels.indexOf(date);
              if (index === -1) {
                data.labels.push(date);
                data.datasets[0].data.push(weight);
              } else {
                data.datasets[0].data[index] = weight;
              }
        
              weightChart.update();
            }
          </script>


    </div>
    
</body>
</html>